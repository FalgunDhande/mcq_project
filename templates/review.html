{% extends "base.html" %}{% block content %}
<h2>Review: {{ attempt.quiz.title }}</h2><p><strong>Total Score:</strong> {{ attempt.score }}</p>
<h3>Subject-wise Summary</h3>
<table><thead><tr><th>Subject</th><th>Total</th><th>Correct</th><th>Wrong</th><th>Marks</th></tr></thead>
<tbody>{% for s,row in per_subject.items() %}<tr><td>{{ s }}</td><td>{{ row.total }}</td><td>{{ row.correct }}</td><td>{{ row.wrong }}</td><td>{{ row.marks }}</td></tr>{% endfor %}</tbody></table>
<h3>Chapter-wise Summary</h3>
<table><thead><tr><th>Subject</th><th>Chapter</th><th>Total</th><th>Correct</th><th>Wrong</th><th>Marks</th></tr></thead>
<tbody>{% for (s,c),row in per_chapter.items() %}<tr><td>{{ s }}</td><td>{{ c }}</td><td>{{ row.total }}</td><td>{{ row.correct }}</td><td>{{ row.wrong }}</td><td>{{ row.marks }}</td></tr>{% endfor %}</tbody></table>
<h3>All Questions</h3>
{% for it in items %}<article class="{% if it.selected == it.correct %}ok{% else %}bad{% endif %}"><details open>
<summary><strong>Q{{ loop.index }}.</strong> {{ it.text }}</summary>
<div style="margin-left:1rem"><p>A) {{ it.A }}</p><p>B) {{ it.B }}</p><p>C) {{ it.C }}</p><p>D) {{ it.D }}</p>
<p><strong>Your answer:</strong> {{ it.selected or '—' }} &nbsp; | &nbsp; <strong>Correct:</strong> {{ it.correct }} &nbsp; | &nbsp; <strong>Marks:</strong> {{ it.marks }}</p>
<small class="pill">{{ it.subject }}{% if it.chapter %} • {{ it.chapter }}{% endif %}</small></div></details></article>{% endfor %}
<p><a href="{{ url_for('index') }}">Back</a></p>{% endblock %}